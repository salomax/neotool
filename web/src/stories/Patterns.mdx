import { Meta, Title } from '@storybook/blocks';

<Meta title="Docs/Patterns" />

<Title>Patterns â€“ Lists and CRUD</Title>

This document explains how to build **list** and **CRUD** pages using the building blocks shipped in this starter.

## List pattern

- Use `ListPage` for a header with actions and optional filter bar.
- For small datasets, pass the whole `rows` array and let the component paginate on the client.
- For large datasets, switch to **server-side** control by passing `totalRows`, `page`, `pageSize` and `onPageChange`.

## CRUD pattern

- Use `CrudPage` when you need a list and an **edit drawer**.
- Provide `renderForm({ mode, item, close })` to render your form.
- For row-level actions, add the `actionsColumn` to your columns list.

## Data fetching

- Prefer **TanStack Query** via `useDataTableQuery`. You pass a `fetcher` that returns `{ rows, total }` and the hook manages pagination state for you.
- Keep server inputs simple: `{ page, pageSize, sort, filter }`.

See the `Templates/*` stories for runnable examples.
