supergraph:
  path: /dist/supergraph.graphql

# Basic Security
cors:
  allowed_origins:
    - ${CORS_ALLOWED_ORIGINS:*}
  allow_credentials: true

headers:
  all:
    request:
      - propagate:
          named: x-request-id
      - propagate:
          named: traceparent
      - propagate:
          named: authorization

# Timeouts
homepage:
  enabled: false

telemetry:
  exporters:
    tracing:
      otlp:
        endpoint: ${OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:http://otel-collector:4317}
        protocol: grpc
    metrics:
      prometheus:
        listen: 0.0.0.0:9464

traffic_shaping:
  timeouts:
    subgraph:
      default: 3s
  retry:
    subgraph:
      max_retries: 1
      backoff: 100ms

# cache hints @cacheControl
# caching:
#   in_memory:
#     size_mb: 64
